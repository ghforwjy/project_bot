# 修复项目详情页面任务列表排序问题

## 问题分析

1. **问题现象**：
   - 项目详情页面的任务列表没有根据 `order` 字段排序
   - 调整任务顺序后，任务列表没有正确刷新排序

2. **根本原因**：
   - 后端 API 在获取项目详情时，任务列表是通过 SQLAlchemy 的关系直接获取的，没有按照 `order` 字段排序
   - 虽然前端在调整顺序后会刷新数据，但由于后端返回的任务列表没有排序，所以前端显示的顺序仍然不正确

## 解决方案

### 修改后端代码

1. **修改 `backend/api/project.py` 文件**：
   - 在 `get_project` 函数中，修改任务列表的获取逻辑
   - 确保任务列表按照 `order` 字段升序排序
   - 修改方式：使用 `db.query(Task).filter(Task.project_id == project.id).order_by(Task.order).all()` 替代直接使用 `project.tasks`

### 前端代码无需修改

- 前端已经正确实现了以下功能：
  - 添加上下移动按钮
  - 调用后端 API 调整任务顺序
  - 调整顺序后刷新项目数据
  - 甘特图已经按照 `order` 字段排序显示

## 预期效果

1. **项目详情页面**：
   - 任务列表按照 `order` 字段排序显示
   - 调整任务顺序后，任务列表会正确刷新并显示新的排序

2. **甘特图**：
   - 任务顺序与项目详情页面的任务列表保持一致
   - 调整任务顺序后，甘特图也会同步更新

## 限制修改范围

- 只修改 `backend/api/project.py` 文件中的 `get_project` 函数
- 不影响其他 API 接口和功能
- 前端代码保持不变
- 数据库结构保持不变