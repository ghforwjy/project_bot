## 问题分析
用户反馈拖拽时不知道在哪里停下来能真正改变顺序，原因：
1. 缺少视觉反馈，用户看不到目标位置
2. 计算逻辑不够直观，没有明确提示
3. 应该添加拖拽指示线，显示将要放置的位置

## 解决方案

### 1. 添加拖拽指示线
在拖拽过程中，在鼠标位置附近显示一条水平指示线，表示任务将被放置的位置。

### 2. 改进目标位置计算逻辑
- 计算鼠标位置与每个任务中心的距离
- 找到最近的任务
- 判断鼠标在该任务的上方还是下方
- 决定是插入到该任务之前还是之后

### 3. 添加视觉反馈
- 拖拽时高亮目标位置的任务
- 显示"放置到这里"的提示
- 添加虚线指示线

## 修改内容

**文件**: frontend/src/components/gantt/GanttChart.tsx

1. 在drag事件中添加指示线渲染
2. 改进end事件中的目标位置计算
3. 添加视觉反馈样式

**文件**: frontend/src/components/gantt/GanttChart.css

添加拖拽指示线样式：
```css
.gantt-drag-indicator {
  stroke: #3b82f6;
  stroke-width: 2;
  stroke-dasharray: 5, 5;
}

.gantt-drop-target {
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
}
```

## 关键代码逻辑

```typescript
// drag事件 - 添加指示线
.on('drag', function(event: any) {
  // ... 更新任务条位置
  
  // 计算并显示指示线
  const targetElement = findNearestTask(event.sourceEvent.clientY);
  if (targetElement) {
    showDragIndicator(svg, targetElement);
  }
})

// end事件 - 确定最终位置
.on('end', function(event: any) {
  // 找到最近的任务
  const targetElement = findNearestTask(event.sourceEvent.clientY);
  if (targetElement) {
    const targetOrder = parseInt(targetElement.getAttribute('data-task-order'));
    // 判断是插入到目标之前还是之后
    const insertBefore = isMouseAboveTarget(event.sourceEvent.clientY, targetElement);
    const newOrder = insertBefore ? targetOrder : targetOrder + 1;
    // 更新任务顺序
  }
})
```

## 测试验证
1. 拖拽时能看到指示线
2. 指示线跟随鼠标移动
3. 释放时任务被放置到正确的位置
4. 页面刷新后顺序正确保存