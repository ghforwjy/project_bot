# 添加聊天回复的分析内容折叠功能

## 问题分析
当前聊天界面中，AI回复的意图分析和JSON结构直接显示在消息中，占用较多空间且影响可读性。用户希望将这部分内容默认折叠，只显示"分析"标题。

## 实现方案

### 1. 创建可折叠分析组件
- 创建 `AnalysisCollapse.tsx` 组件
- 支持默认折叠状态
- 点击"分析"标题可展开/折叠内容
- 处理JSON格式的美化显示

### 2. 分析内容提取逻辑
- 在ChatPanel中添加内容分析函数
- 识别AI回复中的JSON部分和分析说明
- 将提取的内容传递给折叠组件

### 3. 修改消息渲染逻辑
- 修改 `ChatPanel.tsx` 中的消息渲染部分
- 对AI回复应用新的处理逻辑
- 保留普通文本消息的原有渲染方式

### 4. 样式优化
- 确保折叠组件与现有聊天界面风格一致
- 添加适当的动画效果
- 优化JSON代码块的显示样式

## 技术要点
- 使用Ant Design的Collapse组件或自定义折叠逻辑
- 正则表达式提取JSON内容
- 保持React组件的性能优化
- 确保向后兼容性，不影响现有功能

## 预期效果
- AI回复中的分析内容默认折叠
- 只显示"分析"标题，点击可展开
- 展开后显示JSON结构和分析说明
- 界面更加简洁美观，提高可读性