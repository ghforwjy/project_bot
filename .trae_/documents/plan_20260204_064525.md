# 修复甘特图日期轴和进度条错位问题

## 问题分析
通过分析代码，发现了导致日期轴和进度条错位的根本原因：

1. **xScale使用不一致**：
   - xScale的range设置为 `[240, svgWidth - 40]`，表示时间轴从x=240开始
   - 但时间轴的transform使用 `translate(240, ${height - 40})`，又向右偏移了240px
   - 这导致时间轴实际从x=480开始，与任务条（使用xScale，从x=240开始）错位

2. **网格线位置错误**：
   - 网格线也使用了错误的transform位置，与时间轴一样存在双重偏移

## 解决方案

### 核心思路
让时间轴适应甘特图上的进度条，统一使用xScale进行时间到位置的映射。

### 1. 修复时间轴渲染位置
修改 `renderTimeAxis` 函数，将时间轴的transform从 `translate(240, ${height - 40})` 改为 `translate(0, ${height - 40})`，避免与xScale的range重复偏移。

### 2. 修复网格线渲染位置
修改网格线的transform，与时间轴保持一致，确保网格线与时间轴刻度对齐。

## 技术实现

### 修改renderTimeAxis函数
```typescript
const renderTimeAxis = (svg: any, xScale: any, width: number, height: number) => {
  // ... 其他代码保持不变 ...
  
  // 渲染时间轴 - 修改transform位置，让时间轴适应xScale
  svg.append('g')
    .attr('class', 'gantt-time-axis')
    .attr('transform', `translate(0, ${height - 40})`)  // 从240改为0
    .call(xAxis)
    // ... 其他样式保持不变 ...

  // 渲染时间轴网格线 - 修改transform位置
  svg.append('g')
    .attr('class', 'gantt-grid')
    .attr('transform', `translate(0, ${height - 40})`)  // 从240改为0
    // ... 其他代码保持不变 ...
};
```

## 原理说明
- xScale的range是 `[240, svgWidth - 40]`，表示时间轴从x=240开始
- 时间轴的transform应该是 `translate(0, ${height - 40})`，表示时间轴从x=0开始渲染
- 这样xScale的range `[240, svgWidth - 40]` 就能正确映射时间到位置
- 时间轴和任务条都使用同一个xScale，确保完全对齐

## 预期效果
- 时间轴刻度与任务条时间完全对应
- 网格线与时间轴刻度精确对齐
- 时间轴从x=240开始，与任务条使用相同的xScale
- 所有时间相关的元素都统一使用xScale进行映射

## 实现步骤
1. 打开 `frontend/src/components/gantt/GanttChart.tsx` 文件
2. 定位到 `renderTimeAxis` 函数
3. 修改时间轴的transform位置，从 `translate(240, ${height - 40})` 改为 `translate(0, ${height - 40})`
4. 修改网格线的transform位置，与时间轴保持一致
5. 测试修改后的显示效果
6. 确认时间轴和任务条正确对齐