# 实现甘特图跨年日期标记功能

## 分析现有实现

通过查看`GanttChart.tsx`文件，我发现"今天"的标记是通过`renderTodayLine`函数实现的，该函数：
1. 创建今天的日期对象并设置时间为00:00:00
2. 使用xScale将日期转换为甘特图上的x坐标
3. 检查今天是否在当前时间范围内
4. 如果在范围内，绘制一条虚线
5. 在线的旁边添加"今天"文本标签

## 实现计划

### 1. 添加`renderYearTransitions`函数

创建一个新函数，用于标记跨年日期：
- 计算时间范围内的所有1月1日
- 对每个跨年日期，检查是否在时间范围内
- 绘制一条虚线（与"今天"标记类似）
- 在虚线左侧标注上一年的年份（YYYY格式）
- 在虚线右侧标注下一年的年份（YYYY格式）

### 2. 调用新函数

在甘特图渲染过程中，在调用`renderTodayLine`函数之后调用新的`renderYearTransitions`函数。

### 3. 实现细节

- 年份标签使用与"今天"标签类似的样式
- 虚线使用与"今天"标记类似的样式，但可以使用不同的颜色以区分
- 确保年份标签不会与其他元素重叠
- 只在时间范围内显示跨年标记

### 4. 代码修改

修改`GanttChart.tsx`文件：
1. 添加`renderYearTransitions`函数
2. 在甘特图渲染 useEffect 中调用该函数

### 5. 测试

- 确保跨年标记正确显示
- 确保年份标签格式正确（YYYY）
- 确保标记只在时间范围内显示
- 确保与其他甘特图元素无冲突