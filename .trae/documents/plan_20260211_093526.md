## 解决方案

### 1. 后端优化（doubao_streaming_integration.py）
- 在发送识别结果前，检查文本是否为空或与上次结果相同
- 只有当文本有实际变化时才发送给前端

### 2. 前端优化（VoiceButton.tsx）
- 在调用 `onVoiceResult` 前检查文本是否为空
- 添加文本变化检测，避免重复发送相同内容

### 3. 前端优化（ChatPanel.tsx）
- 在 `handleVoiceResult` 中检查文本是否为空
- 只有当文本非空时才设置 `isVoiceResultRef.current = true`
- 只有当文本非空时才调用 `setInputValue(text)`

这样可以避免无意义的状态更新，减少组件重新渲染，解决焦点竞争问题。