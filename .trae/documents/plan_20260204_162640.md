# 甘特图间距优化方案

## 问题分析

**现象**：
- 大类名距离自己项目的距离很远
- 上一个大类的项目和下面的大类离得很近

**根本原因**：
- **CSS间距配置不合理**：当前的margin和padding设置导致了视觉上的间距失衡
- **层级关系不清晰**：大类和项目之间的视觉层级没有通过间距明确区分
- **垂直空间分配不均**：不同层级的元素间距比例不协调

## 优化方案

### 1. 调整CSS间距设置

**修改 GanttChart.css**：

**1. 大类容器间距**
- `.gantt-category`：
  - 调整 `margin`：从 `16px 0` 改为 `20px 0 16px 0`
  - 保持 `padding`：`16px 20px`
  - 调整 `border-radius`：`8px`

**2. 项目容器间距**
- `.gantt-project`：
  - 调整 `margin`：从 `12px 0` 改为 `10px 0 8px 0`
  - 保持 `padding`：`12px 16px`
  - 调整 `border-radius`：`6px`

**3. 任务容器间距**
- `.gantt-task`：
  - 调整 `margin`：从 `8px 0` 改为 `6px 0`
  - 保持 `padding`：`8px 12px`

### 2. 视觉层级增强

**修改 GanttChart.css**：

**1. 大类背景增强**
- `.gantt-category`：
  - 添加 `border-top`：`3px solid #e2e8f0`
  - 添加 `border-bottom`：`1px solid #e2e8f0`
  - 调整 `background-color`：`#f8fafc`

**2. 项目卡片效果**
- `.gantt-project`：
  - 添加 `border-left`：`4px solid #e2e8f0`
  - 调整 `background-color`：`#ffffff`
  - 增强 `box-shadow`：`0 1px 2px rgba(0, 0, 0, 0.05)`

### 3. 垂直空间比例优化

**间距比例规范**：
- **大类与项目**：1:1.2（大类容器margin: 20px，项目容器margin: 10px）
- **项目与任务**：1:1.5（项目容器margin: 10px，任务容器margin: 6px）
- **大类与大类**：2:1（大类容器margin: 20px，项目到下一大类margin: 16px）

### 4. 响应式调整

**修改 GanttChart.css**：
- **小屏幕**（<768px）：
  - 适当减小所有间距（80%）
  - 优化触摸目标大小
- **中等屏幕**（768-1200px）：
  - 保持标准间距
- **大屏幕**（>1200px）：
  - 保持标准间距

## 技术实现

### 修改文件
- **主要文件**：`frontend/src/components/gantt/GanttChart.css`

### 具体CSS修改

**1. 大类容器**
```css
.gantt-category {
  margin: 20px 0 16px 0;
  padding: 16px 20px;
  border-radius: 8px;
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  border-top: 3px solid #e2e8f0;
  border-bottom: 1px solid #e2e8f0;
  transition: all 150ms ease-in-out;
}
```

**2. 项目容器**
```css
.gantt-project {
  margin: 10px 0 8px 0;
  padding: 12px 16px;
  border-radius: 6px;
  background: #ffffff;
  border: 1px solid #e2e8f0;
  border-left: 4px solid #e2e8f0;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  transition: all 150ms ease-in-out;
}
```

**3. 任务容器**
```css
.gantt-task {
  margin: 6px 0;
  padding: 8px 12px;
}
```

## 预期效果

**视觉效果**：
- ✅ 大类与项目之间的距离适中
- ✅ 大类与大类之间的距离明确
- ✅ 垂直空间分配均匀
- ✅ 视觉层级清晰

**用户体验**：
- ✅ 信息结构一目了然
- ✅ 减少视觉疲劳
- ✅ 增强可读性
- ✅ 专业美观

## 执行步骤

1. **修改 GanttChart.css**：更新CSS间距设置
2. **验证修改效果**：在浏览器中查看甘特图
3. **响应式测试**：在不同屏幕尺寸下验证
4. **功能验证**：确保所有功能正常工作