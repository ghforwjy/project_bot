## 问题分析
任务条拖拽时直接跑到界面顶部，原因是：
1. 在drag事件中使用了`dragState.currentY + event.dy`计算新位置
2. 但`dragState.currentY`是React state，在事件处理函数中不会实时更新
3. 导致每次计算都基于初始值，造成位置错误

## 解决方案
使用D3拖拽事件提供的`event.y`属性，它直接给出当前拖拽的Y坐标，不需要依赖React state。

## 修改内容
**文件**: frontend/src/components/gantt/GanttChart.tsx

修改drag事件处理函数：
```typescript
.on('drag', function(event: any) {
  event.sourceEvent.stopPropagation();
  // 使用event.y而不是dragState.currentY + event.dy
  const newY = event.y - 16; // 减去任务条高度的一半，保持鼠标在任务条中心
  
  setDragState(prev => ({
    ...prev,
    currentY: newY
  }));
  
  d3.select(this)
    .attr('y', newY);
})
```

## 测试验证
1. 拖拽任务条时，任务条应该跟随鼠标移动
2. 任务条应该保持在鼠标指针下方，不会跑到顶部
3. 拖拽结束后能正确计算目标位置