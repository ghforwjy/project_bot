## 问题分析
- **现象**：特定会话 `session_1770019277559` 在刷新页面后，新消息不见了
- **根本原因**：后端 `get_chat_history` 函数默认限制返回50条消息，按时间升序排列，只返回最早的50条，最新消息被截断
- **验证**：数据库检查显示该会话有86条消息，超过了50条的限制

## 修复方案
**修改文件**：`backend/api/chat.py`

**修改内容**：
1. 修改 `get_chat_history` 函数，移除默认的消息数量限制
2. 当 `limit` 为 `None` 时，不使用 `.limit()` 方法，返回所有消息
3. 保持按时间升序排列，确保聊天记录按正确时间顺序显示

**修复逻辑**：
- 将 `limit: int = 50` 修改为 `limit: Optional[int] = None`
- 添加条件判断：如果 `limit` 不为 `None`，才使用 `.limit(limit)` 方法
- 这样当不指定 limit 时，会返回所有消息

## 预期效果
- 特定会话的所有86条消息都能正确显示
- 新消息在刷新页面后不会消失
- 聊天记录保持按时间顺序显示
- 其他会话的消息也能完整显示