# 甘特图间距优化方案

## 问题根源
甘特图使用D3.js渲染SVG，间距由JavaScript代码中的硬编码数值控制，CSS的margin/padding对SVG元素无效。

## 优化策略（基于UI/UX设计原则）

### 1. 调整大类与项目之间的间距
- **当前**：大类标题60px + 项目起始位置 = 60px间距
- **优化**：减少大类标题高度为50px，项目起始位置调整为`yPosition + 50`
- **效果**：大类与项目距离更近，视觉更紧凑

### 2. 调整项目与任务之间的间距
- **当前**：项目标题40px + 任务起始位置 = 40px间距
- **优化**：减少项目标题高度为32px，任务起始位置调整为`yPosition + 32`
- **效果**：项目与任务距离更合理

### 3. 调整任务之间的间距
- **当前**：每个任务32px高度（包含任务本身和间距）
- **优化**：保持32px，但优化任务条高度为20px，增加任务之间的视觉间距
- **效果**：任务之间有更清晰的分隔

### 4. 调整大类之间的间距
- **当前**：大类标题60px + 项目高度 = 大类总高度
- **优化**：在大类之间添加额外的padding（10px），确保不同大类之间有清晰的视觉分隔
- **效果**：大类之间有明显的层次感

## 具体修改点

### GanttChart.tsx
1. **第306行**：修改折叠状态下大类高度：`60` → `50`
2. **第308行**：修改大类标题高度：`60` → `50`
3. **第317行**：修改折叠状态下项目高度：`40` → `32`
4. **第318行**：修改项目标题高度：`40` → `32`
5. **第455行**：修改项目起始位置：`yPosition + 60` → `yPosition + 50`
6. **第541行**：修改任务起始位置：`yPosition + 40` → `yPosition + 32`
7. **第554行**：保持任务间距：`32`（不变）
8. **第711行**：优化任务条高度：`16` → `20`
9. **第722行**：优化hover状态任务条高度：`18` → `22`
10. **第742行**：优化mouseout状态任务条高度：`16` → `20`

## 间距层次设计（遵循UI/UX原则）

### 垂直间距系统
- **大类标题**：50px（紧凑但清晰）
- **项目标题**：32px（与任务间距一致）
- **任务条**：20px（视觉焦点）
- **任务间距**：32px（包含任务条20px + 间距12px）
- **大类分隔**：10px额外padding（清晰的层次分隔）

### 视觉层次
1. **大类** → **项目**：50px（紧密关联）
2. **项目** → **任务**：32px（逻辑分组）
3. **任务** → **任务**：32px（等间距排列）
4. **大类** → **大类**：额外10px（明确分隔）

## 技术可行性
✅ 直接修改D3.js坐标计算，100%生效
✅ 不依赖CSS，避免SVG布局限制
✅ 保持响应式设计，适配不同屏幕尺寸
✅ 符合UI/UX设计原则，提升用户体验