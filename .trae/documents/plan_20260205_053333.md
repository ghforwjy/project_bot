# 修复任务更新失败提示，显示具体错误原因

## 问题分析

通过分析代码，我发现以下问题：

### 前端问题
在 `ProjectDetailModal.tsx` 文件中，`updateTaskMutation` 的 `onError` 回调函数只是简单地显示 "任务更新失败" 的错误信息，没有包含具体的错误原因：

```typescript
onError: () => {
  message.error('任务更新失败')
}
```

### 后端问题
后端的任务更新 API (`/projects/{project_id}/tasks/{task_id}`) 会抛出 HTTP 异常，包含具体的错误信息，但前端没有捕获和显示这些异常的详细信息。

## 解决方案

### 1. 修改前端代码

修改 `ProjectDetailModal.tsx` 文件中的 `updateTaskMutation` 的 `onError` 回调函数，使其显示来自后端的具体错误信息：

```typescript
onError: (error: any) => {
  // 尝试从错误对象中提取具体的错误信息
  const errorMessage = error.response?.data?.message || error.message || '任务更新失败';
  message.error(`任务更新失败: ${errorMessage}`);
}
```

### 2. 确保后端错误信息清晰

后端已经在抛出 HTTP 异常时包含了具体的错误信息，例如：

```python
if not task:
    raise HTTPException(status_code=404, detail="任务不存在")
```

这些错误信息会通过响应体返回给前端，前端需要正确地解析和显示它们。

### 3. 测试

修改完成后，测试任务更新失败的场景，例如：
- 更新不存在的任务
- 提供无效的日期格式
- 其他可能导致更新失败的情况

确保前端能够显示具体的错误原因，而不是简单的"任务更新失败"提示。